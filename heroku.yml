# heroku.yml - Configuration for Heroku build

# Specifies the build configuration for the app.
build:
  # Configures the build process for the 'web' process type.
  # Heroku will look for a Procfile inside the 'context' directory (backend/Procfile).
  web:
    # Specifies the buildpack to use. Explicitly set to Node.js.
    buildpack: heroku/nodejs
    # Specifies the subdirectory containing the app to be built.
    # This tells Heroku to focus its build process within the 'backend' folder.
    context: backend

# The 'run' section is typically not needed when using buildpacks and a Procfile,
# as the buildpack and Procfile define how to run the app.
# Heroku will automatically detect and use 'backend/Procfile' because of the 'context' setting above.

# Specifies how to run the application after building.
# This section tells Heroku to use the Procfile located inside the build context directory.
run:
  web: bundle exec puma -C config/puma.rb # Default for Heroku Node.js, but relies on backend/Procfile
  # Heroku should automatically pick up your backend/Procfile and use the command:
  # web: node server.js

# The release phase command is typically defined by the 'web' process in your backend/Procfile
# release:
#   command:
#     - node backend/server.js # Or rely on Procfile 